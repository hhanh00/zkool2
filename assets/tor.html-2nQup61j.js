import{_ as t,c as a,a as n,o as r}from"./app-BPr8p7RZ.js";const s="/zkool2/assets/19.tor-dLcT1a31.png",o={};function i(d,e){return r(),a("div",null,e[0]||(e[0]=[n('<h1 id="what-is-tor" tabindex="-1"><a class="header-anchor" href="#what-is-tor"><span>What is TOR?</span></a></h1><p>From the Wikipedia:</p><p>Tor is a free overlay network for enabling anonymous communication. It is built on free and open-source software run by over seven thousand volunteer-operated relays worldwide, as well as by millions of users who route their Internet traffic via random paths through these relays.</p><h1 id="without-tor" tabindex="-1"><a class="header-anchor" href="#without-tor"><span>Without TOR</span></a></h1><p>The communication between Zkool and the server reveals some information about the wallet.</p><div class="hint-container important"><p class="hint-container-title">Important</p><p>The protocol uses GRPC which is based on HTTP/2. <strong>Your IP address is known to the server</strong>.</p></div><h2 id="shielded-data" tabindex="-1"><a class="header-anchor" href="#shielded-data"><span>Shielded Data</span></a></h2><p>Getting blocks to decrypt shielded transactions is mostly passive. The server knows the range of requested blocks, and it&#39;s usually from the latest synchronized height up to the current/latest block height.</p><p>The server returns a stream of <em>compact</em> blocks that contains the shielded part (it excludes any transparent transaction data).</p><p>The shielded data does not contain the memo and outgoing encrypted key. After Zkool identifies the data related to the account, it makes a series of requests to retrieve the full transaction data.</p><p>Getting <em>memos</em> and the <em>outgoing addresses</em> requires <em>targeted</em> queries. The server can associate an IP with the transaction ID of the queries.</p><div class="hint-container important"><p class="hint-container-title">Important</p><p><strong>Getting memos and addresses associates an IP address to the transaction IDs</strong>.</p></div><h2 id="transparent-data" tabindex="-1"><a class="header-anchor" href="#transparent-data"><span>Transparent Data</span></a></h2><p>Transparent data is pruned from the compact blocks fetched from the server, therefore Zkool needs to get them separately. The server indexes the transparent data and it can only be queried directly by address.</p><div class="hint-container important"><p class="hint-container-title">Important</p><p>Even if you do not use the transparent address of your account, Zkool needs to query them in case you have. <strong>The server can associate the IP with the transparent addresses</strong>. If you don&#39;t need the transparent address, you should remove the transparent pool from the account, then Zkool will not request them.</p></div><h1 id="with-tor" tabindex="-1"><a class="header-anchor" href="#with-tor"><span>With TOR</span></a></h1><figure><img src="'+s+'" alt="TOR" tabindex="0" loading="lazy"><figcaption>TOR</figcaption></figure><p>With TOR enabled, Zkool builds a circuit: It picks 3 random Tor relays from its global network.</p><ul><li>Entry (Guard) node, first hop, sees your IP address but not your destination server.</li><li>Middle node, just passes encrypted data, doesn&#39;t know you or the server.</li><li>Exit node, last hop, decrypts the traffic and sends it to the light wallet server.</li></ul><p><strong>Your IP is hidden</strong>. The server only sees the exit node&#39;s IP. <strong>Latency is higher</strong>. Because traffic bounces through ~3 relays worldwide. Tor ensures privacy between you and the network, but exit node traffic must rely on HTTPS for end-to-end encryption.</p><p>Zkool uses TOR for all the traffic between it and the lightwallet server.</p><div class="hint-container important"><p class="hint-container-title">Important</p><p>Zkool does not use TOR to get the market price and the price chart.</p></div><h2 id="onion-service" tabindex="-1"><a class="header-anchor" href="#onion-service"><span>Onion Service</span></a></h2><p>There is no exit node at all.</p><p>Instead, the server itself is inside Tor. Both client and server use special Tor circuits to meet at a rendezvous point:</p><p>You build a Tor circuit (entry to middle to rendezvous point). The onion service builds its own Tor circuit (entry to middle to same rendezvous point).</p><p>Neither side knows the other’s IP. They only meet inside Tor. Traffic is end-to-end encrypted inside Tor (not just between you and the network).</p><p>The .onion address itself is a cryptographic identifier derived from the service’s public key, ensuring authenticity.</p><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>If you have a lightwallet server that has a onion service address, it provides better privacy because the TOR circuit won&#39;t use an exit node.</p></div>',29)]))}const c=t(o,[["render",i]]),l=JSON.parse('{"path":"/recipe/tor.html","title":"Using TOR","lang":"en-US","frontmatter":{"title":"Using TOR"},"git":{"updatedTime":1758726782000,"contributors":[{"name":"Hanh","username":"Hanh","email":"hanh425@gmail.com","commits":1,"url":"https://github.com/Hanh"}],"changelog":[{"hash":"ebcd9b276103c127cf96e7715e2931a00a22a529","time":1758726782000,"email":"hanh425@gmail.com","author":"Hanh","message":"charts wip"}]},"filePathRelative":"recipe/tor.md"}');export{c as comp,l as data};
